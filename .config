CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_DEVICE_generic=y
CONFIG_TARGET_IMAGES_GZIP=y

# =================================================================
# 1. 底层核心库 (Master 分支最容易漏掉的部分 - 全部写死)
# =================================================================
# 🔥【绝对关键】LuCI 兼容层：缺了这个，QModem/SMS/iStore 菜单百分百消失
CONFIG_PACKAGE_luci-compat=y
# HTTPS 支持库：缺了这个，iStore 无法下载软件
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_ca-certificates=y
CONFIG_PACKAGE_ca-bundle=y
# JSON 处理库：缺了这个，很多插件无法保存配置
CONFIG_PACKAGE_liblucihttp=y
CONFIG_PACKAGE_liblucihttp-lua=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-lib-jsonc=y
CONFIG_PACKAGE_luci-lib-nixio=y
# 基础工具
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_openssh-sftp-server=y

# =================================================================
# 2. 界面与语言 (强制中文)
# =================================================================
CONFIG_LUCI_LANG_zh_cn=y
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y

# =================================================================
# 3. 5G 模组与短信 (硬件驱动全开)
# =================================================================
# 核心拨号协议
CONFIG_PACKAGE_modemmanager=y
CONFIG_PACKAGE_kmod-usb-net-cdc-mbim=y
CONFIG_PACKAGE_luci-proto-qmi=y
# 🔥【防坑驱动】必须显式添加 USB 串口驱动，否则发不出 AT 指令
CONFIG_PACKAGE_kmod-usb-serial=y
CONFIG_PACKAGE_kmod-usb-serial-option=y
CONFIG_PACKAGE_kmod-usb-serial-wwan=y
CONFIG_PACKAGE_kmod-usb-serial-qualcomm=y
# 插件应用
CONFIG_PACKAGE_luci-app-qmodem=y
CONFIG_PACKAGE_luci-i18n-qmodem-zh-cn=y
CONFIG_PACKAGE_luci-app-sms-tool=y
CONFIG_PACKAGE_luci-i18n-sms-tool-zh-cn=y

# =================================================================
# 4. iStore 应用商店 (全套组件)
# =================================================================
CONFIG_PACKAGE_luci-app-store=y
CONFIG_PACKAGE_luci-lib-taskd=y
CONFIG_PACKAGE_luci-lib-xterm=y
CONFIG_PACKAGE_taskd=y

# =================================================================
# 5. Docker 全家桶 (含磁盘管理)
# =================================================================
# 核心引擎
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
# 面板 (修复版)
CONFIG_PACKAGE_luci-app-dockerman=y
CONFIG_PACKAGE_luci-i18n-dockerman-zh-cn=y
CONFIG_PACKAGE_luci-lib-docker=y
# 🔥【硬盘挂载】DiskMan 及其依赖，防止无法分区
CONFIG_PACKAGE_luci-app-diskman=y
CONFIG_PACKAGE_luci-i18n-diskman-zh-cn=y
CONFIG_PACKAGE_parted=y
CONFIG_PACKAGE_smartmontools=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-nls-utf8=y

# =================================================================
# 6. 网络服务 (网关三剑客)
# =================================================================
# HomeProxy + SingBox
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-i18n-homeproxy-zh-cn=y
CONFIG_PACKAGE_sing-box=y
# Tailscale (内网穿透)
CONFIG_PACKAGE_luci-app-tailscale=y
CONFIG_PACKAGE_luci-i18n-tailscale-zh-cn=y
CONFIG_PACKAGE_tailscale=y
CONFIG_PACKAGE_iptables-mod-nat-extra=y
# AdGuardHome (去广告)
CONFIG_PACKAGE_luci-app-adguardhome=y
CONFIG_PACKAGE_luci-i18n-adguardhome-zh-cn=y

# =================================================================
# 7. WiFi 与 硬件驱动 (AX210)
# =================================================================
CONFIG_PACKAGE_kmod-iwlwifi=y
CONFIG_PACKAGE_iwlwifi-firmware-ax210=y
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_wpad-openssl=y
# 漫游助手 DAWN
CONFIG_PACKAGE_luci-app-dawn=y
CONFIG_PACKAGE_luci-i18n-dawn-zh-cn=y
CONFIG_PACKAGE_dawn=y

# =================================================================
# 8. 高阶工具箱 (一个不少)
# =================================================================
# 负载均衡
CONFIG_PACKAGE_luci-app-mwan3=y
CONFIG_PACKAGE_luci-i18n-mwan3-zh-cn=y
# KMS 激活
CONFIG_PACKAGE_luci-app-vlmcsd=y
CONFIG_PACKAGE_luci-i18n-vlmcsd-zh-cn=y
# 文件传输助手
CONFIG_PACKAGE_luci-app-filetransfer=y
CONFIG_PACKAGE_luci-i18n-filetransfer-zh-cn=y
# 网页终端
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
# 自动重启
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-i18n-autoreboot-zh-cn=y
# 游戏端口映射
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y
# x86 温度/频率监控
CONFIG_PACKAGE_luci-app-autocore=y
CONFIG_PACKAGE_luci-i18n-autocore-zh-cn=y

# =================================================================
# 9. 扩容防呆设置
# =================================================================
# 就算 build.yml 改了分区，这里也强制把 rootfs 设大，防止打包溢出
CONFIG_TARGET_ROOTFS_PARTSIZE=4096
CONFIG_TARGET_KERNEL_PARTSIZE=128
